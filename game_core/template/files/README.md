# ðŸŽ® Hex Game â€” Ð ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ Ð¿Ð¾ Ð·Ð°Ð¿ÑƒÑÐºÑƒ

## Ð§Ñ‚Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¾ÑÑŒ Ð² v1.1
- âœ… JSON â†’ **SQLite** (WAL Ñ€ÐµÐ¶Ð¸Ð¼, Ð°Ñ‚Ð¾Ð¼Ð°Ñ€Ð½Ñ‹Ðµ Ð·Ð°Ð¿Ð¸ÑÐ¸)
- âœ… Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¾Ñ‚ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°
- âœ… ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹ (200 Ð³ÐµÐºÑÐ¾Ð² Ð¾Ñ‚ Ñ†ÐµÐ½Ñ‚Ñ€Ð°)
- âœ… ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð´Ð»Ð¸Ð½Ñ‹ Ð¸Ð¼ÐµÐ½Ð¸ (30 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²)
- âœ… API ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚Ñ‹ `/health` Ð¸ `/leaderboard`
- âœ… ÐšÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ ÑÐµÑ€Ð²ÐµÑ€Ð° (SIGINT/SIGTERM)
- âœ… `process.env.PORT` Ð´Ð»Ñ Ð´ÐµÐ¿Ð»Ð¾Ñ

---

## ðŸš€ Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð·Ð°Ð¿ÑƒÑÐº

### 1. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
```bash
npm install
```

### 2. Ð—Ð°Ð¿ÑƒÑÐº ÑÐµÑ€Ð²ÐµÑ€Ð°
```bash
npm start
```

Ð˜Ð»Ð¸ Ñ‡ÐµÑ€ÐµÐ· .bat Ñ„Ð°Ð¹Ð» (Windows):
```
start_server.bat
```

### 3. ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¸Ð³Ñ€Ñƒ
```
http://localhost:2567
```

### 4. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÐµÑ€Ð²ÐµÑ€
```
http://localhost:2567/health
```

---

## â˜ï¸ Ð”ÐµÐ¿Ð»Ð¾Ð¹ Ð½Ð° Railway (Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾)

Railway â€” ÑÐ°Ð¼Ñ‹Ð¹ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð± Ð·Ð°Ñ…Ð¾ÑÑ‚Ð¸Ñ‚ÑŒ Node.js ÑÐµÑ€Ð²ÐµÑ€.

### Ð¨Ð°Ð³ 1 â€” Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐ¹ÑÑ
Ð—Ð°Ð¹Ð´Ð¸ Ð½Ð° https://railway.app Ð¸ Ð²Ð¾Ð¹Ð´Ð¸ Ñ‡ÐµÑ€ÐµÐ· GitHub.

### Ð¨Ð°Ð³ 2 â€” ÐÐ¾Ð²Ñ‹Ð¹ Ð¿Ñ€Ð¾ÐµÐºÑ‚
- ÐÐ°Ð¶Ð¼Ð¸ **"New Project"**
- Ð’Ñ‹Ð±ÐµÑ€Ð¸ **"Deploy from GitHub repo"**
- Ð’Ñ‹Ð±ÐµÑ€Ð¸ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ `hex-game`

### Ð¨Ð°Ð³ 3 â€” ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
Railway Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚ Node.js Ð¿Ñ€Ð¾ÐµÐºÑ‚.
Ð£Ð±ÐµÐ´Ð¸ÑÑŒ Ñ‡Ñ‚Ð¾ Ð² Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ñ…:
- **Start Command:** `npm start`
- **Root Directory:** `game_core`

### Ð¨Ð°Ð³ 4 â€” Ð”Ð¾Ð¼ÐµÐ½
- ÐÐ°Ð¶Ð¼Ð¸ **"Generate Domain"**
- ÐŸÐ¾Ð»ÑƒÑ‡Ð¸ÑˆÑŒ URL Ð²Ð¸Ð´Ð°: `https://hex-game-xxxx.railway.app`

### Ð¨Ð°Ð³ 5 â€” ÐžÐ±Ð½Ð¾Ð²Ð¸ index.html
Ð—Ð°Ð¼ÐµÐ½Ð¸ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ:
```javascript
// Ð‘Ð«Ð›Ðž (Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÐµÑ€Ð²ÐµÑ€):
const serverUrl = `${protocol}://${window.location.host}`;

// Ð¡Ð¢ÐÐ›Ðž (Railway):
const serverUrl = "wss://hex-game-xxxx.railway.app";
```

---

## ðŸ“± ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Telegram

### 1. Ð¡Ð¾Ð·Ð´Ð°Ð¹ Ð±Ð¾Ñ‚Ð°
1. ÐÐ°Ð¿Ð¸ÑˆÐ¸ @BotFather Ð² Telegram
2. ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒ `/newbot`
3. ÐŸÑ€Ð¸Ð´ÑƒÐ¼Ð°Ð¹ Ð¸Ð¼Ñ Ð¸ username Ð±Ð¾Ñ‚Ñƒ
4. Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸ Ñ‚Ð¾ÐºÐµÐ½: `1234567890:ABCdef...`

### 2. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ Mini App
1. Ð’ @BotFather Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒ `/newapp`
2. Ð’Ñ‹Ð±ÐµÑ€Ð¸ ÑÐ²Ð¾ÐµÐ³Ð¾ Ð±Ð¾Ñ‚Ð°
3. Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ:
   - **Title:** Hex Game
   - **Short description:** Ð—Ð°Ñ…Ð²Ð°Ñ‚Ñ‹Ð²Ð°Ð¹ Ñ‚ÐµÑ€Ñ€Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸!
   - **URL:** `https://hex-game-xxxx.railway.app`
4. ÐŸÐ¾Ð»ÑƒÑ‡Ð¸ÑˆÑŒ ÑÑÑ‹Ð»ÐºÑƒ: `https://t.me/your_bot/app`

### 3. Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!
ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒ ÑÑÑ‹Ð»ÐºÑƒ Ð´Ñ€ÑƒÐ·ÑŒÑÐ¼ Ð¸ Ð¸Ð³Ñ€Ð°Ð¹ ðŸŽ‰

---

## ðŸ“ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ñ„Ð°Ð¹Ð»Ð¾Ð²

```
game_core/
â”œâ”€â”€ index.html      â€” Ð¤Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´ Ð¸Ð³Ñ€Ñ‹
â”œâ”€â”€ server.js       â€” Ð¡ÐµÑ€Ð²ÐµÑ€ (Colyseus + SQLite)
â”œâ”€â”€ package.json    â€” Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
â”œâ”€â”€ start_server.bat â€” Ð—Ð°Ð¿ÑƒÑÐº Ð½Ð° Windows
â”œâ”€â”€ game.db         â€” Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… SQLite (ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸)
â””â”€â”€ server.log      â€” Ð›Ð¾Ð³Ð¸ ÑÐµÑ€Ð²ÐµÑ€Ð°
```

---

## ðŸ”§ ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹

```bash
# ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ Ð»Ð¸Ð´ÐµÑ€Ð¾Ð²
curl http://localhost:2567/leaderboard

# Ð¡Ñ‚Ð°Ñ‚ÑƒÑ ÑÐµÑ€Ð²ÐµÑ€Ð°
curl http://localhost:2567/health

# ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð±Ð°Ð·Ñƒ Ð´Ð°Ð½Ð½Ñ‹Ñ… SQLite
npx better-sqlite3 game.db
> SELECT * FROM hexes LIMIT 10;
> SELECT * FROM players ORDER BY total_captures DESC;
```
