### üìã –°–ö–û–ü–ò–†–£–ô –ò –û–¢–ü–†–ê–í–¨ –≠–¢–û –î–†–£–ì–û–ô –ù–ï–ô–†–û–°–ï–¢–ò:

codeText

downloadcontent_copy

expand_less

````
–ü—Ä–∏–≤–µ—Ç! –ú—ã –¥–µ–ª–∞–µ–º –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é .io –∏–≥—Ä—É –Ω–∞ –≥–µ–∫—Å–∞—Ö (Node.js + WebSockets + HTML5 Canvas). 
–ú—ã –º–µ–Ω—è–µ–º –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –∏–≥—Ä—ã –Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏—é ¬´Wasteland Clans¬ª (–í—ã–∂–∏–≤–∞–Ω–∏–µ –≤ —Å—Ç–∏–ª–µ Rust, –≤–∏–¥ —Å–≤–µ—Ä—Ö—É). 

–ú–Ω–µ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Ç—ã –æ–±–Ω–æ–≤–∏–ª –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ (–æ—Ç—Ä–∏—Å–æ–≤–∫—É –≤ Canvas), –∏—Å–ø–æ–ª—å–∑—É—è –Ω–æ–≤—ã–π –¥–∏–∑–∞–π–Ω-–∫–æ–¥. –õ–æ–≥–∏–∫—É WebSockets –ø–æ–∫–∞ –Ω–µ —Ç—Ä–æ–≥–∞–π, —Ç–æ–ª—å–∫–æ –∞–¥–∞–ø—Ç–∏—Ä—É–π —Ñ—É–Ω–∫—Ü–∏—é —Ä–µ–Ω–¥–µ—Ä–∞.

–í–æ—Ç –ø—Ä–∞–≤–∏–ª–∞ –Ω–æ–≤–æ–≥–æ –≤–∏–∑—É–∞–ª–∞ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:

### 1. –°–û–°–¢–û–Ø–ù–ò–ï (State)
–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –ø—Ä–∏—Å—ã–ª–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –∞ –∫–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—å –∏—Ö –≤ –æ–±—ä–µ–∫—Ç–µ `gameState`. –û—Ç—Ä–∏—Å–æ–≤–∫–∞ (Canvas) –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ `requestAnimationFrame` (60 FPS), –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–∏–∫—Ä–µ–π—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞. –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø–ª–∞–≤–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π (–¥—ã—Ö–∞–Ω–∏–µ —é–Ω–∏—Ç–æ–≤, –æ—Ç–ª–µ—Ç–∞—é—â–∏–µ —Ü–∏—Ñ—Ä—ã –¥–æ–±—ã—á–∏).

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—É—é –æ–∂–∏–¥–∞–µ—Ç —Ä–µ–Ω–¥–µ—Ä:
- `grid`: –º–∞—Å—Å–∏–≤ –≥–µ–∫—Å–æ–≤ `{ q, r, x, y, type: 'forest'|'mountain'|'plain', ownerColor: '#d93829'|null }`
- `units`: –º–∞—Å—Å–∏–≤ —é–Ω–∏—Ç–æ–≤ `{ id, x, y, hp, maxHp, inventory, maxInventory, type: 'farmer'|'fighter', color: '#d93829' }`

### 2. –ü–ê–õ–ò–¢–†–ê –ò –°–¢–ò–õ–¨
- –§–æ–Ω (Canvas): `#1e1c1a` (–º—Ä–∞—á–Ω–∞—è –ø—É—Å—Ç–æ—à—å).
- –®—Ä–∏—Ñ—Ç: `'Courier New', monospace`.
- –õ–µ—Å (–≥–µ–∫—Å): –∑–∞–ª–∏–≤–∫–∞ `#4a5438`, –æ–±–≤–æ–¥–∫–∞ `#111`, `lineWidth: 4`.
- –†–∞–≤–Ω–∏–Ω–∞ (–≥–µ–∫—Å): –∑–∞–ª–∏–≤–∫–∞ `#5c5346`, –æ–±–≤–æ–¥–∫–∞ `#111`.

### 3. –ù–û–í–´–ï –§–£–ù–ö–¶–ò–ò –û–¢–†–ò–°–û–í–ö–ò (–î–æ–±–∞–≤—å –∏—Ö –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π JS)

–¢–µ–±–µ –Ω—É–∂–Ω–æ —Ä–∞–∑–±–∏—Ç—å —Ä–µ–Ω–¥–µ—Ä –Ω–∞ –º–æ–¥—É–ª–∏. –í–æ—Ç –≥–æ—Ç–æ–≤—ã–µ –∫—É—Å–∫–∏ –∫–æ–¥–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

**–ê) –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ì–µ–∫—Å–æ–≤ (–õ–∞–Ω–¥—à–∞—Ñ—Ç):**
–ì–µ–∫—Å—ã —Ä–∏—Å—É—é—Ç—Å—è –≥—Ä—É–±—ã–º–∏, —Å —Ç–µ–º–Ω–æ–π –æ–±–≤–æ–¥–∫–æ–π. –ï—Å–ª–∏ —Ç–∏–ø 'forest', –ø–æ–≤–µ—Ä—Ö –≥–µ–∫—Å–∞ (—Å globalAlpha = 0.5) –Ω—É–∂–Ω–æ —Ä–∏—Å–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç "üå≤".

**–ë) –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –Æ–Ω–∏—Ç–æ–≤ (–§–∏—à–∫–∏):**
–Æ–Ω–∏—Ç—ã –Ω–µ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ. –û–Ω–∏ –≤—ã–≥–ª—è–¥—è—Ç –∫–∞–∫ –∫—Ä—É–≥–ª—ã–µ —Ç–æ–∫–µ–Ω—ã –∏–∑ –Ω–∞—Å—Ç–æ–ª—å–Ω–æ–π –∏–≥—Ä—ã —Å —ç–º–æ–¥–∑–∏ –≤–Ω—É—Ç—Ä–∏.
–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–±–∞–≤—å –∞–Ω–∏–º–∞—Ü–∏—é "–¥—ã—Ö–∞–Ω–∏—è" (bouncing) —á–µ—Ä–µ–∑ `Math.sin(Date.now() / 150) * 4`.

```javascript
function drawUnit(ctx, unit) {
    let bounceY = Math.sin(Date.now() / 150) * 4; 
    let uX = unit.x;
    let uY = unit.y + bounceY;

    // –¢–µ–Ω—å
    ctx.beginPath();
    ctx.ellipse(uX, unit.y + 25, 20, 8, 0, 0, Math.PI * 2);
    ctx.fillStyle = 'rgba(0,0,0,0.4)';
    ctx.fill();

    // –¢–µ–ª–æ —Ñ–∏—à–∫–∏
    ctx.beginPath();
    ctx.arc(uX, uY, 25, 0, Math.PI * 2);
    ctx.fillStyle = '#222';
    ctx.fill();
    ctx.lineWidth = 4;
    ctx.strokeStyle = unit.color; // –¶–≤–µ—Ç –∫–ª–∞–Ω–∞
    ctx.stroke();

    // –ò–∫–æ–Ω–∫–∞ (–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞)
    ctx.font = "24px Arial";
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    let icon = unit.type === 'farmer' ? "ü™ì" : "üî´";
    ctx.fillText(icon, uX, uY + 2);

    drawUnitUI(ctx, unit, uX, uY);
}
````

**–í) Micro-UI –Æ–Ω–∏—Ç–∞ (–•–ü –∏ –†—é–∫–∑–∞–∫):**  
–ù–∞–¥ –∫–∞–∂–¥—ã–º —é–Ω–∏—Ç–æ–º –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–æ—Å–∫–∞ –•–ü, –∞ –ø–æ–¥ –Ω–∏–º ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è.

codeJavaScript

downloadcontent_copy

expand_less

```
function drawUnitUI(ctx, unit, uX, uY) {
    // –ü–æ–ª–æ—Å–∫–∞ HP
    let hpX = uX - 25, hpY = uY - 40;
    ctx.fillStyle = '#000';
    ctx.fillRect(hpX, hpY, 50, 6);
    let hpPercent = unit.hp / unit.maxHp;
    ctx.fillStyle = hpPercent > 0.5 ? '#4caf50' : '#ff9800';
    ctx.fillRect(hpX, hpY, 50 * hpPercent, 6);
    ctx.strokeStyle = '#222';
    ctx.lineWidth = 1;
    ctx.strokeRect(hpX, hpY, 50, 6);

    // –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
    if (unit.inventory !== undefined) {
        ctx.fillStyle = "rgba(0,0,0,0.6)";
        ctx.roundRect(uX - 35, uY + 30, 70, 18, 4); 
        ctx.fill();
        ctx.font = "bold 12px Courier New";
        ctx.fillStyle = "#e6a822";
        ctx.fillText(`üéí ${unit.inventory}/${unit.maxInventory}`, uX, uY + 40);
    }
}
```

**–ì) –°–∏—Å—Ç–µ–º–∞ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (VFX):**  
–î–æ–±–∞–≤—å –≤ –∫–ª–∏–µ–Ω—Ç –º–∞—Å—Å–∏–≤¬†floatingTexts = []. –°–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ WebSockets –±—É–¥–µ—Ç –ø—Ä–∏—Å—ã–ª–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä,¬†unitGathered), –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –ø—É—à–∏—Ç—å –≤ —ç—Ç–æ—Ç –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç¬†{ text: "+1 ü™µ", x, y, alpha: 1.0 }.  
–í –≥–ª–∞–≤–Ω–æ–º —Ü–∏–∫–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞ –¥–≤–∏–≥–∞–π –∏—Ö –≤–≤–µ—Ä—Ö (y -= 1) –∏ —É–º–µ–Ω—å—à–∞–π¬†alpha.

**–ó–ê–î–ê–ß–ê –î–õ–Ø –¢–ï–ë–Ø (–ò–ò):**  
–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π —ç—Ç–æ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –≤ –Ω–∞—à —Ç–µ–∫—É—â–∏–π¬†client.js¬†/¬†index.html. –û–±–Ω–æ–≤–∏ –≥–ª–∞–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é¬†draw(), —á—Ç–æ–±—ã –æ–Ω–∞ —Å–Ω–∞—á–∞–ª–∞ —Ä–∏—Å–æ–≤–∞–ª–∞ —Ñ–æ–Ω, –∑–∞—Ç–µ–º –º–∞—Å—Å–∏–≤¬†grid¬†(–≥–µ–∫—Å—ã), –∑–∞—Ç–µ–º –º–∞—Å—Å–∏–≤¬†units¬†(–≤—ã–∑—ã–≤–∞—è¬†drawUnit), –∏ –≤ –∫–æ–Ω—Ü–µ¬†floatingTexts. –í—ã–≤–µ–¥–∏ –ø–æ–ª–Ω—ã–π –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç–∏.

codeCode

downloadcontent_copy

expand_less

```
---

### –ü–æ—á–µ–º—É —Ç–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ?

1. **–ù–µ–π—Ä–æ—Å–µ—Ç–∏ –º—ã—Å–ª—è—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.** –Ø —Ä–∞—Å–ø–∏—Å–∞–ª –µ–π, –∫–∞–∫ –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å –æ–±—ä–µ–∫—Ç –Æ–Ω–∏—Ç–∞ (`{ x, y, hp, maxHp... }`). –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É –æ–Ω–∞ —Å—Ä–∞–∑—É –ø–æ–π–º–µ—Ç, –∫–∞–∫ —Å–≤—è–∑–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ—Ç —Ç–≤–æ–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (Node.js) —Å –≥—Ä–∞—Ñ–∏–∫–æ–π –Ω–∞ Canvas.
2. **–ó–∞—â–∏—Ç–∞ —Ç–≤–æ–µ–π –ª–æ–≥–∏–∫–∏.** –í –ø—Ä–æ–º–ø—Ç–µ –ø—Ä—è–º–æ —Å–∫–∞–∑–∞–Ω–æ: *"–õ–æ–≥–∏–∫—É WebSockets –ø–æ–∫–∞ –Ω–µ —Ç—Ä–æ–≥–∞–π"*. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –æ–Ω–∞ –Ω–µ —Å–ª–æ–º–∞–µ—Ç —Ç–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É, –∞ —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–∏—Ç "—à–∫—É—Ä–∫—É" –∏–≥—Ä—ã.
3. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å.** –Ø —Ä–∞–∑–±–∏–ª –∫–æ–¥ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏ `drawUnit` –∏ `drawUnitUI`. –ù–µ–π—Ä–æ—Å–µ—Ç—å –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ç–≤–æ–π —Ñ–∞–π–ª, –∞ –Ω–µ –Ω–∞–ø–∏—à–µ—Ç –æ–¥–Ω—É –≥–∏–≥–∞–Ω—Ç—Å–∫—É—é –Ω–µ—á–∏—Ç–∞–µ–º—É—é –∫–∞—à—É –Ω–∞ 1000 —Å—Ç—Ä–æ–∫.

–ü—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–π —ç—Ç–æ—Ç —Ç–µ–∫—Å—Ç —Å–≤–æ–µ–º—É AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—É, –∏ –æ–Ω –≤—ã–¥–∞—Å—Ç —Ç–µ–±–µ –≥–æ—Ç–æ–≤—ã–π, —Ä–∞–±–æ—á–∏–π –∫–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞!
```